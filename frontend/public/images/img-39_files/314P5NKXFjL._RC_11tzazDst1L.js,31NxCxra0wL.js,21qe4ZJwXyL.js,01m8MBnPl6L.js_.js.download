(function(x){var n=window.AmazonUIPageJS||window.P,m=n._namespace||n.attributeErrors,t=m?m("MSXBooksDetailPageAsset",""):n;t.guardFatal?t.guardFatal(x)(t,window):t.execute(function(){x(t,window)})})(function(x,n,m){function t(h){if("undefined"!==typeof h){var d=n.ue;if(d&&d.count){var g=d.count(h)||0;d.count(h,g+1)}}}x.when("A","jQuery","ImageBlockATF","AudibleAudioPlayer","cf").execute(function(h,d,g,M){function v(){var b=u.find(".audioSamplePopover");x.when("jQuery","a-popover","ready").execute(function(a,
e){F=e.create(N,{activate:"onclick",position:"triggerRight",inlineContent:b})});l.click(c)}function c(){F&&F.show()}function D(b){b.bind("audioEnded",function(){w.hide();E.hide();l.show();y=0;F&&F.hide()});b.bind("audioPlaying",function(){w.hide();l.hide();E.show();y=1;c()});b.bind("audioPaused",function(){E.hide();l.hide();w.show();y=0;F&&F.hide()})}function P(){y?a.pause():a.play()}function Q(b){O?"click"==b.type?"front"==z?(z="back",f.removeClass("frontUnrotated frontUnrotatedHover").addClass("frontRotated"),
p.removeClass("backUnrotated backUnrotatedHover").addClass("backRotated"),q.css("transform","perspective(3000px) rotateY(90deg) translateZ("+r+"px)"),e.addClass("a-hidden"),C.removeClass("a-hidden"),L.addClass("flipToBackImgRotate"),t("booksImageFlipToBackCount")):(z="front",f.removeClass("frontRotated frontRotatedHover").addClass("frontUnrotated"),p.removeClass("backRotated backRotatedHover").addClass("backUnrotated"),q.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+r+"px)"),C.addClass("a-hidden"),
e.removeClass("a-hidden"),L.removeClass("flipToBackImgRotate"),t("booksImageFlipToFrontCount")):"mouseenter"==b.type?"front"==z?(f.removeClass("frontUnrotated").addClass("frontUnrotatedHover"),p.removeClass("backUnrotated").addClass("backUnrotatedHover"),q.css("transform","perspective(3000px) rotateY(-55deg) translateZ("+r+"px)")):(f.removeClass("frontRotated").addClass("frontRotatedHover"),p.removeClass("backRotated").addClass("backRotatedHover"),q.css("transform","perspective(3000px) rotateY(80deg) translateZ("+
r+"px)")):"front"==z?(f.removeClass("frontUnrotatedHover").addClass("frontUnrotated"),p.removeClass("backUnrotatedHover").addClass("backUnrotated"),q.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+r+"px)")):(f.removeClass("frontRotatedHover").addClass("frontRotated"),p.removeClass("backRotatedHover").addClass("backRotated"),q.css("transform","perspective(3000px) rotateY(90deg) translateZ("+r+"px)")):"click"==b.type?"front"==z?(k.removeClass("bookCanvasTransformHover").addClass("rotated"),
e.addClass("a-hidden"),C.removeClass("a-hidden"),L.addClass("flipToBackImgRotate"),z="back",t("booksImageFlipToBackCount")):(k.removeClass("rotated rotatedHover"),C.addClass("a-hidden"),e.removeClass("a-hidden"),L.removeClass("flipToBackImgRotate"),z="front",t("booksImageFlipToFrontCount")):"mouseenter"==b.type?"front"==z?k.addClass("bookCanvasTransformHover"):k.removeClass("rotated").addClass("rotatedHover"):"front"==z?k.removeClass("bookCanvasTransformHover"):k.removeClass("rotatedHover").addClass("rotated")}
function J(){m.addClass("parentImage");q.addClass("bookSpine").removeClass("a-hidden");k.addClass("bookCanvasTransition");f.addClass("bookFrontTransition");h.delay(function(){k.addClass("bookCanvasTransformHover");h.delay(function(){k.removeClass("bookCanvasTransformHover")},1500)},50)}function R(){var b=q.outerWidth(),a=f.outerWidth();r=(a-b)/2-2;q.css("left",(a-b)/2).css("transform","perspective(3000px) rotateY(-90deg) translateZ("+r+"px)");f.addClass("ieTransition ieBookShadow").css("transform-origin",
"50% 50% -"+b/2+"px");p.addClass("ieTransition backLanding ieBookShadow").removeClass("a-hidden").css("transform-origin","50% 50% -"+b/2+"px");q.addClass("ieTransition ieBookShadow").removeClass("a-hidden").css("transform-origin","50% 50% -"+b/2+"px");h.delay(function(){p.removeClass("backLanding").addClass("backUnrotated");f.addClass("frontUnrotated");q.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+r+"px)")},50);f.mouseenter(function(){q.css("transform","perspective(3000px) rotateY(-75deg) translateZ("+
r+"px)")});f.mouseleave(function(){q.css("transform","perspective(3000px) rotateY(-65deg) translateZ("+r+"px)")});B.removeClass("a-hidden")}var G=d("#imageBlock"),m=G.find("#img-wrapper"),k=G.find("#img-canvas"),p=k.find(".backImage"),q=k.find(".sideImage"),f=k.find(".frontImage"),B=G.find(".flipImageToBack"),u=G.find(".sampleBookAudio"),H=0,z="front",I=0,y=0,l=u.find(".audioListenText"),E=u.find(".audioPlayingText"),w=u.find(".audioPausedText"),A=u.find(".audioText"),N=u.find(".audioPopoverTrigger"),
a,e=B.find(".flipToBackText"),C=B.find(".flipToFrontText"),L=B.find(".flipToBackImg"),O=d.browser.msie||!!navigator.userAgent.match(/Trident/),F,r=0;(function(){n.ue&&n.ue.count&&ue.count("booksImageFlipToBackCount",0);n.ue&&n.ue.count&&ue.count("booksImageFlipToFrontCount",0);if(g.audibleData&&g.audibleData.audioSampleSrc){a=new M;var b={};b.audioSrc=g.audibleData.audioSampleSrc;b.audioId="img-blk-audio-sample";b.audioControllerId=u;b.flashPlayerUrl=g.audibleData.flashPlayerUrl;b.bindEventsCallback=
D;a.init(b)}for(var e=1,b=["Perspective","TransformStyle","TransformOrigin","BackfaceVisibility","Transition"],d=0;d<b.length;d++)if(e){for(var e=b[d],C=["Webkit","Moz","O","ms"],c=document.createElement("div"),K=!1,r=0;r<C.length;r++)C[r]+e in c.style&&(K=K||!0);"Perspective"===e&&"WebkitPerspective"in c.style&&(K=!1,c.id="test3d",document.body.appendChild(c),3===c.offsetHeight&&(K=!0),c.parentNode.removeChild(c));e=K}H=e;b="undefined"!==typeof p&&0<p.length;(I=H&&b)?(b=f.width(),d=f.height(),0<
b&&0<d&&(k.addClass("image-3d"),p.css("width",b).css("height",d),q.css("height",d),O?R():(J(),p.addClass("bookBack").removeClass("a-hidden"),B.removeClass("a-hidden")),h.declarative("flip-action",["click","mouseenter","mouseleave"],Q)),a&&a.isPlayerAvailable?B.addClass("a-span6"):B.addClass("a-span12")):k.addClass("image-2d");a&&a.isPlayerAvailable&&(I?u.addClass("a-span6"):u.addClass("a-span12"),E.hide(),w.hide(),u.removeClass("a-hidden"),A.children().click(P),b=parseInt,d=l.outerWidth(),e=E.outerWidth(),
C=w.outerWidth(),c=0,0<d&&0<e&&0<C&&(c=Math.max(d,e,C)+5),(b=b(c))&&0<b&&A.css("width",b),v())})()});x.when("a-modal-handlers").execute("mark-booksimageblock-interactive-time",function(){"function"===typeof n.markFeatureInteractive&&n.markFeatureInteractive("booksImageBlock",{hasComponents:!0,components:[{name:"thumbnail"}]})});x.when("A","jQuery","ImageBlockATF","ImageGalleryMarkup").execute(function(h,d,g){function M(){var a=g.imageGalleryData;if(a&&0<a.length){l={};E=a.length;for(var e=0;e<a.length;e++)l["ig-thumb-"+
e]=a[e]}}function v(){y=p.height();0<q.length&&(y-=q.height());if(d.browser.msie&&7==d.browser.version){var a=f.outerHeight()-f.height();a&&0<a&&(y-=a)}if(y&&0<y){f.css("height",y);var a=z.height(),e=z.width();B.css("height",a).css("width",e).data("height",a).data("width",e)}}function c(){if(0<p.length){v();n();if(0<E)for(var a=0;a<E;a++){var e="ig-thumb-"+a,e=d('\x3cdiv class\x3d"ig-thumb-image"\x3e\x3cimg class\x3d"ig-thumb-inner '+(e==A?"selected":"")+'" id\x3d"'+e+'" src\x3d"'+l[e].thumbUrl+'"\x3e\x3c/div\x3e');
H.append(e)}zoomOptions=J();w.setImageData(zoomOptions);w.attachZoomEvents()}}function D(){var a=l[A].dimensions[0],e=l[A].dimensions[1];u.css("max-width",a).css("max-height",e).removeClass("image-stretch-horizontal image-stretch-vertical");u.addClass(x(a,e))}function n(){l[A]&&(D(),u.attr("src",l[A].mainUrl))}function x(a,e){var d=B.data("width")/B.data("height"),c="image-stretch-vertical";a/e>d&&(c="image-stretch-horizontal");return c}function J(){var a={};l[A]&&(a.containerId="igInner",a.imageId=
"igImage",a.imageWidth=l[A].dimensions[0],a.imageHeight=l[A].dimensions[1]);return a}function t(){l&&H.find(".ig-thumb-inner").click(function(){var a=this.id,e=d(this),c=l[a];!e.hasClass("selected")&&c&&(A=a,H.find(".selected").removeClass("selected"),e.addClass("selected"),w.detachEvents(),u.addClass("a-hidden"),I.show(),document.getElementById("igImage").onload=N,n(),a=J(),w.setImageData(a))})}function G(){var a=h.viewport();k.closest(".a-popover-modal").css("width",.75*a.width).css("height",.75*
a.height);v();w.detachEvents();D();a=J();w.setImageData(a);w.attachZoomEvents()}function m(){h.capabilities.orientation&&(h.on("orientationchange",function(){G()}),h.on("a:popover:afterHide:imageGallery",function(){h.off("a:popover:afterHide:imageGallery");h.on("a:popover:beforeShow:imageGallery",function(){G()})}))}var k=d("#imgGalleryContent"),p=k.closest(".a-popover-wrapper"),q=p.find(".a-popover-header"),f=p.find(".a-popover-inner"),B=k.find("#igInner"),u=B.find("#igImage"),H=k.find(".ig-thumbs"),
z=k.find(".ig-main-image"),I=k.find(".loading-bar"),y=0,l=null,E=0,w=new function(){function a(){f.bind("touchstart.ig touchmove.ig",function(b){e(b);f.unbind("touchstart.ig touchmove.ig");f.bind("touchmove.ig",function(b){e(b)});f.bind("touchend.ig",function(b){c.zoomOut();f.unbind("touchstart.ig touchmove.ig touchend.ig");a()})})}function e(a){v&&a.preventDefault();var e,d={},f=b.width(),g=b.height();e=a.pageX-b.offset().left;a=a.pageY-b.offset().top;d.x=p?e*l/f-e:0;d.y=q?a*r/g-a:0;c.zoomIn(d)}
var c={},g=null,k=null,l=0,r=0,b=null,f=null,p=!1,q=!1,v=h.capabilities.touch;c.setImageData=function(a){g=a.containerId;k=a.imageId;l=a.imageWidth;r=a.imageHeight;b=d("#"+g);f=d("#"+k);p=0<l&&0<b.length&&l>b.width();q=0<r&&0<b.length&&r>b.height()};c.attachZoomEvents=function(){if(p||q)b.addClass("zoomable"),v?a():f.click(function(a){b.hasClass("zoomed-in")?(c.zoomOut(),f.unbind("mousemove")):b.hasClass("zoomed-out")&&(e(a),f.mousemove(function(a){e(a)}))})};c.zoomIn=function(a){f.css("top",-1*a.y);
f.css("left",-1*a.x);b.removeClass("zoomed-out").addClass("zoomed-in")};c.zoomOut=function(){b.removeClass("zoomed-in").addClass("zoomed-out");f.css("top","auto").css("left","auto")};c.detachEvents=function(){c.zoomOut();f.unbind();b.removeClass("zoomable")};return c},A;0<k.length&&(A="ig-thumb-0",I.hide(),M(),c(),t(),m());var N=function(){I.hide();u.removeClass("a-hidden");w.attachZoomEvents()}});x.when("A","jQuery").execute(function(h,d){if(d("#imageBlockThumbs").length){var g=function(){var g=
d("#imgThumbs"),v=g.data("a-modal"),c=h.viewport();v.width=.75*c.width;v.height=.75*c.height;g.data("a-modal",v)};"use strict";g();h.on("resize",g)}});"use strict";x.when("A","jQuery","msxUtility","ready","atf").execute(function(h,d,g){function n(c){var m=d("\x3cdiv\x3e\x3c/div\x3e").html(c);g.digestPageStates(m);m=null;x.when("responsiveMediaTabsLoadComplete").execute(function(){var g=d(c).find("#twister");g.addClass("no-swatches");t.eq(0).html(g);(g=D[0].getElementsByClassName("olpLink")[0])&&"show-all-offers-display"===
g.parentElement.getAttribute("data-action")?D.find(".olpLink").eq(0).parent().addClass("tabHidden"):D.find(".olpLink").eq(0).addClass("tabHidden");D.find(".mediaMatrix").eq(0).removeClass("tabHidden");h.trigger("mediaMatrixLazyLoadComplete")});m=d(".otherSellers.mediaMatrix");0<m.length&&m.eq(0).bind("click",v)}function v(c){g.postMetric("mmt-media-matrix-glance-view");d(c.currentTarget).unbind("click",v)}var c=h.state("media-matrix-variables");if(c){var c="/gp/mediatabs/mediamatrix?"+d.param({asin:c.currentAsin,
isMediaMatrixAjaxCall:1,productGroupId:c.productGroupID}),D=d("#mediaTabsHeadings"),t=d("#mediaTab_content_all").find("#MediaMatrix"),m=d("#mediaTab_content_all").find("#MediaMatrixSlot");t&&0<t.length&&m&&0<m.length&&d.ajax({method:"GET",url:c,dataType:"text",success:function(c){c&&/\S/.test(c)?n(c):g.postMetric("mmt-media-matrix-ajax-call-fail")},error:function(c){g.postMetric("mmt-media-matrix-ajax-call-fail")}})}});"use strict";x.when("A","jQuery").register("msxUtility",function(h,d){return{digestPageStates:function(d){d.find("script[type\x3d'a-state']").each(function(d,
g){var c,n,m=g.dataset;m&&m.aState&&(c=JSON.parse(m.aState).key,n=JSON.parse(g.innerText));c&&n&&h.state(c,n)})},postMetric:function(d){if("undefined"!==typeof d){var h=n.ue;if(h){var m=h.count(d)||0;h.count(d,m+1)}}}}})});
/* ******** */
(function(e){var f=window.AmazonUIPageJS||window.P,k=f._namespace||f.attributeErrors,d=k?k("OffersBooksDetailPageAsset",""):f;d.guardFatal?d.guardFatal(e)(d,window):d.execute(function(){e(d,window)})})(function(e,f,k){e.when("A","jQuery","atf").execute(function(d,c,e){var b=c("#rbbContainer");b.find(".rbbHeaderLink").attr("href","javascript:void(0);");b.find(".rbbHeader .displayNone i.prime").hide();b.find(".rbbHeader .displayNone .primeBadge").hide();b.find(".rbbHeader .ubbPrimeBadge").hide();b.find(".rbbHeader .prime-plus-price").hide();
b.find(".rbbHeader .displayNone").removeClass("displayNone");c("#rbbContainer .rbbSection.unselected .dp-accordion-inner").hide();var f=c("#buyDealSection").length;c("#rbbContainer .rbbSection .rbbHeader").click(function(a){c(a.target);a=c(this);a=a.hasClass("rbbHeader")?a:a.parents(".rbbHeader");if(a.parents(".rbbSection").hasClass("selected"))return!1;b.find(".selected .a-icon-radio-active").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive");b.find(".selected .offer-price").removeClass("a-color-price a-size-medium").addClass("a-color-base a-size-base");
b.find("i.a-icon.prime").hide();b.find(".primeBadge").hide();b.find(".ubbPrimeBadge").hide();var d=b.find(".prime-plus-price-grid");d.hasClass("hidden")?d.removeClass("hidden").show():d.addClass("hidden").hide();b.find(".prime-plus-price").show();a.parents(".rbbSection").removeClass("unselected").addClass("selected");a.parents(".rbbSection").toggleClass("dp-accordion-active",500);a.find(".a-icon-radio-inactive").removeClass("a-icon-radio-inactive").addClass("a-icon-radio-active");a.find(".offer-price").removeClass("a-color-base a-size-base").addClass("a-color-price a-size-medium");
a.find("#priceBadgeValue").removeClass("a-size-medium").addClass("a-size-base");a.find("i.a-icon.prime").show();a.find(".primeBadge").show();a.find(".prime-plus-price").hide();c("#rbbContainer .rbbSection .rbbContent").find(".offer-price").removeClass("a-color-base").addClass("a-color-price");a.find(".ubbPrimeBadge").show();var e=c(this).attr("id"),g,h;b.find(".rbbSection").each(function(b,a){c(a).find(".rbbHeader")[0].id===e?g=c(a):c(a).hasClass("selected")&&(h=c(a))});h.find(".rbbContent").slideUp(500,
function(){h.removeClass("selected").addClass("unselected");h.toggleClass("dp-accordion-active",500)});g.find(".rbbContent").slideDown(500);c.browser.msie&&7===parseInt(c.browser.version,10)&&(g.find(".rbbContent").css("display","inline"),setTimeout(function(){g.find(".rbbContent").css("display","block")},505));if(f&&"undefined"!=typeof UDPDealView)if(c("#gbld_header_message").show(),"buyDealSection"===e)UDPDealView.prototype.onSelectLDBuybox();else UDPDealView.prototype.onSelectRegularBuybox();return!0})});
e.when("A","jQuery").execute(function(d,c){c("#one-click-button-ubb, #usedbuyBox #add-to-cart-button-ubb").click(function(){var d=c("#addToCart"),b=d.attr("action").replace("ref\x3ddp_start-bbf_1_glance","ref\x3ddp_start-ubbf_1_glance");d.attr("action",b);return!0});e.when("a-popover").execute(function(e){var b=c("#usedItemConditionInfoLink"),f=e.create(b,{width:250,position:"triggerBottom",activate:d.capabilities.touch?"onmousemove":"onclick",closeButton:!1,popoverLabel:"Used condition details",
name:"usedItemConditionDetailsPopover",dataStrategy:"preload"});b.mouseleave(function(){f.hide()})})})});
/* ******** */
(function(k){var m=window.AmazonUIPageJS||window.P,q=m._namespace||m.attributeErrors,p=q?q("PInfoBooksDetailPageAsset",""):m;p.guardFatal?p.guardFatal(k)(p,window):p.execute(function(){k(p,window)})})(function(k,m,q){function p(c){var a="au br ca de es fr in it jp mx uk us".split(" "),f=c.split(/[.-]+/),g=null!==c.match(/^(www|smile).amazon.(ca|com|com.br|com.mx|co.uk|de|fr|es|it|in|co.jp|com.au)$/),f=f.filter(function(b){return-1!==a.indexOf(b)}),f=0<f.length?f[0]:"us",e=t(f);return{obfuscatedMarketplace:{au:"A39IBJ37TRP1C6",
br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",uk:"A1F83G8C2ARO7P",us:"ATVPDKIKX0DER"}[f],endpoint:g?c.replace(/^(www|smile)/,"data"):"data-"+f+"-pre-prod."+e+".corp.amazon.com"}}function t(c){switch(c){case "us":case "br":case "ca":case "mx":return"iad";case "de":case "fr":case "uk":case "es":case "it":case "in":return"dub";case "jp":case "au":return"pdx"}}function p(c){var a=
"au br ca de es fr in it jp mx uk us".split(" "),f=c.split(/[.-]+/),g=null!==c.match(/^(www|smile).amazon.(ca|com|com.br|com.mx|co.uk|de|fr|es|it|in|co.jp|com.au)$/),f=f.filter(function(b){return-1!==a.indexOf(b)}),f=0<f.length?f[0]:"us",e=t(f);return{obfuscatedMarketplace:{au:"A39IBJ37TRP1C6",br:"A2Q3Y263D00KWC",ca:"A2EUQ1WTGCTBG2",de:"A1PA6795UKMFR9",es:"A1RKKUPIHCS9HS",fr:"A13V1IB3VIYZZH","in":"A21TJRUUN4KGV",it:"APJ6JRA9NG5V4",jp:"A1VC38T7YXB528",mx:"A1AM78C64UM0Y8",uk:"A1F83G8C2ARO7P",us:"ATVPDKIKX0DER"}[f],
endpoint:g?c.replace(/^(www|smile)/,"data"):"data-"+f+"-pre-prod."+e+".corp.amazon.com"}}function t(c){switch(c){case "us":case "br":case "ca":case "mx":return"iad";case "de":case "fr":case "uk":case "es":case "it":case "in":return"dub";case "jp":case "au":return"pdx"}}k.when("A","jQuery","atf").execute(function(c,a,f){var g,e=0;k.when("DPClientLogger").execute(function(){"undefined"!=typeof m.DPClientLogger&&(g=new m.DPClientLogger.ImpressionLogger("dpbxapps","bxapps-atfMarker",!0,!0))});a("#bookDetails_feature_div .hero-more").click(function(b){b.preventDefault();
b=a(this).attr("data-popupID");var c=a("#"+b),d=a(this).offset().left+a(this).width()/2,h=a("#popupContent").offset().left,d=(d-h)/a("#popupContent").width()*100;a("#"+b+" .pointer").css({left:d+"%"});a("#popupContent .details-popup").filter(":visible").length?a("#popupContent .details-popup").filter(":visible").attr("id")!==b?(a("#popupContent .details-popup").filter(":visible").slideToggle(300),c.slideToggle(300)):c.slideUp(300):(c.slideDown(300),a(this).hasClass("hero-more")&&a("html,body").animate({scrollTop:a("#bookDetails_feature_div").offset().top-
50},600));g&&!e&&(g.logImpression("ma-books-br-details"),e=1)});a("#bookDetails_feature_div .moreNarratorLink").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")||location.hostname==this.hostname){var b=a(this.hash),b=b.length?b:a("[name\x3d"+this.hash.slice(1)+"]");b.length&&a("html,body").animate({scrollTop:b.offset().top},1E3);return!1}});a("#bookDetails_feature_div .details-popup button").click(function(b){a(this).parent().slideUp(300)})});var l=m.location.hostname,
l=p(l),r=l.obfuscatedMarketplace,x=l.endpoint;k.when("A","jQuery","atf").execute(function(c,a,f){function g(){var e=parseInt(a("#byline").width()),b=0;a("#byline .author").each(function(){a(this).is(".notFaded")&&(b+=a(this).outerWidth())});b+=a("#byline .more").outerWidth();if(b>e){var c=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(d){b>e&&d<c-1&&(d=a(this).width(),a(this).removeClass("notFaded"),a(this).fadeOut(10,function(){a(this).hide()}),
b-=d,a("#byline .moreCount").html(a("#byline .author").length-a("#byline .author.notFaded").length),a("#byline .more").addClass("notFaded").fadeIn(10))})}else if(b<e&&a("#byline .author.notFaded").length<a("#byline .author").length){var d=e-b;a("#byline .author").each(function(){if(!a(this).hasClass("notFaded")){var b=a(this).outerWidth();b<=d?(d-=b,a(this).addClass("notFaded").fadeIn(10),b=a("#byline .author").length-a("#byline .author.notFaded").length,0===b?a("#byline .more").removeClass("notFaded").fadeOut(10):
(a("#byline .moreCount").html(b),a("#byline .more").addClass("notFaded").fadeIn(10))):d=0}})}}a("#byline .showMoreLink").click(function(){a("#byline .author").each(function(){a(this).hasClass("notFaded")||a(this).addClass("notFaded").fadeIn(0);a("#byline .more").removeClass("notFaded").fadeOut(0)});return!1});a("#byline .contributorNameID").mouseenter(function(){var e=a(this).attr("data-asin"),b="isAjaxComplete_"+e,f="isAjaxInProgress_"+e,d=c.state("popoverImage-state");if("1"!==d[b]&&"1"!==d[f]){var h=
a("meta[id\x3dbyline-csrf-token]").attr("content");a.ajax({url:"https://"+x+"/api/marketplaces/"+r+"/contributors/authors/"+e,type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"contributor.author/v1"; expand\x3d"profile(contributor.profile/v1)"',"x-api-csrf-token":h},xhrFields:{withCredentials:!0},success:function(h){h=h.entity.profile.entity.image;var y=document.createElement("img");y.setAttribute("src","https://images-na.ssl-images-amazon.com/images"+
(h.s3Bucket!==q?"/S/"+h.s3Bucket+"/":"/I/")+h.physicalId+"._SY75_."+h.extension);y.setAttribute("id",e);a("#contributorImageContainer"+e).get(0).appendChild(y);d[b]="1";c.state("popoverImage-state",d)},error:function(){d[f]="0";c.state("popoverImage-state",d)}});d[f]="1";c.state("popoverImage-state",d)}});(function(e){var b=parseInt(e.width()),c=parseInt(e.find(".more").outerWidth()),d=0;a("#byline .author").each(function(){a(this).is(".notFaded")&&(d+=a(this).outerWidth())});a("#byline .more").attr("data-width",
c);var h=b-c;if(h>d)e.find(".author").each(function(){var b=a(this).index();3<=parseInt(b)?(b=a(this).outerWidth(),a(this).attr("data-width",b),b<h?(h-=b,a(this).addClass("notFaded"),a(this).fadeIn("slow")):(h=0,a(this).fadeOut("slow"))):(b=a(this).outerWidth(),a(this).attr("data-width",b),h-=b)});else{var f=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(b){h<d&&b<f-1&&(b=a(this).outerWidth(),d-=b,a(this).fadeOut("slow").removeClass("notFaded"))})}b=
e.find(".author").length-e.find(".author.notFaded").length;0<b&&(e.find(".moreCount").html(b),e.find(".more").fadeIn("slow"),e.find(".more").addClass("notFaded"))})(c.$("#byline"));a(m).resize(function(){g()})});l=m.location.hostname;l=p(l);r=l.obfuscatedMarketplace;x=l.endpoint;k.when("A","jQuery","atf").execute(function(c,a,f){function g(){var e=parseInt(a("#bylineInfo").width()),b=0;a("#bylineInfo .author").each(function(){a(this).is(".notFaded")&&(b+=a(this).outerWidth())});b+=a("#bylineInfo .more").outerWidth();
if(b>e){var c=a("#bylineInfo .author.notFaded").length;a(a("#bylineInfo .author.notFaded").get().reverse()).each(function(d){b>e&&d<c-1&&(d=a(this).width(),a(this).removeClass("notFaded"),a(this).fadeOut(10,function(){a(this).hide()}),b-=d,a("#bylineInfo .moreCount").html(a("#bylineInfo .author").length-a("#bylineInfo .author.notFaded").length),a("#bylineInfo .more").addClass("notFaded").fadeIn(10))})}else if(b<e&&a("#bylineInfo .author.notFaded").length<a("#bylineInfo .author").length){var d=e-b;
a("#bylineInfo .author").each(function(){if(!a(this).hasClass("notFaded")){var b=a(this).outerWidth();b<=d?(d-=b,a(this).addClass("notFaded").fadeIn(10),b=a("#bylineInfo .author").length-a("#bylineInfo .author.notFaded").length,0===b?a("#bylineInfo .more").removeClass("notFaded").fadeOut(10):(a("#bylineInfo .moreCount").html(b),a("#bylineInfo .more").addClass("notFaded").fadeIn(10))):d=0}})}}a("#bylineInfo .showMoreLink").click(function(){a("#bylineInfo .author").each(function(){a(this).hasClass("notFaded")||
a(this).addClass("notFaded").fadeIn(0);a("#bylineInfo .more").removeClass("notFaded").fadeOut(0)});return!1});a("#bylineInfo .contributorNameID").mouseenter(function(){var e=a(this).attr("data-asin"),b="isAjaxComplete_"+e,f="isAjaxInProgress_"+e,d=c.state("popoverImage-state");if("1"!==d[b]&&"1"!==d[f]){var h=a("meta[id\x3dbyline-csrf-token]").attr("content");a.ajax({url:"https://"+x+"/api/marketplaces/"+r+"/contributors/authors/"+e,type:"GET",headers:{"Accept-Language":"en-US",Accept:'application/vnd.com.amazon.api+json; type\x3d"contributor.author/v1"; expand\x3d"profile(contributor.profile/v1)"',
"x-api-csrf-token":h},xhrFields:{withCredentials:!0},success:function(f){f=f.entity.profile.entity.image;var h=document.createElement("img");h.setAttribute("src","https://images-na.ssl-images-amazon.com/images"+(f.s3Bucket!==q?"/S/"+f.s3Bucket+"/":"/I/")+f.physicalId+"._SY75_."+f.extension);h.setAttribute("id",e);a("#contributorImageContainer"+e).get(0).appendChild(h);d[b]="1";c.state("popoverImage-state",d)},error:function(){d[f]="0";c.state("popoverImage-state",d)}});d[f]="1";c.state("popoverImage-state",
d)}});(function(e){var b=parseInt(e.width()),f=parseInt(e.find(".more").outerWidth()),d=0;a("#bylineInfo .author").each(function(){a(this).is(".notFaded")&&(d+=a(this).outerWidth())});a("#bylineInfo .more").attr("data-width",f);var c=b-f;if(c>d)e.find(".author").each(function(){var b=a(this).index();3<=parseInt(b)?(b=a(this).outerWidth(),a(this).attr("data-width",b),b<c?(c-=b,a(this).addClass("notFaded"),a(this).fadeIn("slow")):(c=0,a(this).fadeOut("slow"))):(b=a(this).outerWidth(),a(this).attr("data-width",
b),c-=b)});else{var g=a("#bylineInfo .author.notFaded").length;a(a("#bylineInfo .author.notFaded").get().reverse()).each(function(b){c<d&&b<g-1&&(b=a(this).outerWidth(),d-=b,a(this).fadeOut("slow").removeClass("notFaded"))})}b=e.find(".author").length-e.find(".author.notFaded").length;0<b&&(e.find(".moreCount").html(b),e.find(".more").fadeIn("slow"),e.find(".more").addClass("notFaded"))})(c.$("#bylineInfo"));a(m).resize(function(){g()})});k.when("A","jQuery","DynamicIframe","ProductDescriptionData",
"cf").execute(function(c,a,f,g){function e(){q=0;var a=Math.min(k,l.length);m(0,a)}function b(){0<u.length&&0<v.length&&(w="collapsed",u.removeClass("a-hidden"),u.click(function(){"collapsed"===w?(t?v.animate({height:"show"}):(v.removeClass("extraReviews"),m(q,l.length),t=1),u.removeClass("collapsed").addClass("expanded"),w="expanded"):(v.animate({height:"hide"}),u.removeClass("expanded").addClass("collapsed"),w="collapsed")}))}function m(b,e){var c;for(c=b;c<e;c++){var h={};h.iframeId="er_iframe_"+
c;h.iframeWrapperId="er_iframe_wrapper_"+c;h.iframeContainerId="er_container_"+c;h.iframeExpanderId="er_expander_"+c;h.iframeColumnId="er_column_"+c;var g=h,n=l[c],k="\x3ch3 class\x3d'erSource'\x3e"+n.source+"\x3c/h3\x3e\x3cdiv class\x3d'erContent'\x3e"+n.content+"\x3c/div\x3e";n.footnote&&(k=k+"\x3cem class\x3d'erFootnote'\x3e"+n.footnote+"\x3c/em\x3e");g.encodedIframeContent=k;h.initialResizeCallback=d;g=h;n={};n.id=a("#"+g.iframeId);n.column=a("#"+g.iframeColumnId);n.wrapper=a("#"+g.iframeWrapperId);
n.container=a("#"+g.iframeContainerId);n.expander=a("#"+g.iframeExpanderId);n.iframeObj=new f(g);n.state="full";g=n;r[h.iframeId]=g;g.column.removeClass("extraReviews");g&&"undefined"!=typeof g.iframeObj&&"function"==typeof g.iframeObj.createIframe&&g.iframeObj.createIframe();p(g);q++}}function d(a){(a=r[a])&&170<a.wrapper.outerHeight()&&(a.container.css("height",140),a.expander.removeClass("a-hidden expanded").addClass("collapsed"),a.state="partial")}function h(a){(a=r[a])&&"full"===a.state&&a.container.css("height",
a.wrapper.outerHeight())}function p(b){if(b&&"undefined"!=typeof b.iframeObj&&"function"==typeof b.iframeObj.resizeIframe)c.on("resize",function(){b.iframeObj.resizeIframe(h)});b&&b.expander&&b.expander.click(function(){"partial"===b.state?(b.container.animate({height:b.wrapper.outerHeight()}),b.expander.removeClass("collapsed").addClass("expanded"),b.state="full"):(b.container.animate({height:140}),b.expander.removeClass("expanded").addClass("collapsed"),a("html, body").animate({scrollTop:b.container.offset().top-
20}),b.state="partial")})}var l=g.encodedReviews,k=parseInt(g.reviewsPerRow),q=0,t=0;g=a("#productDescription-multiColumn");var r={},u,v,w;0<g.length&&l&&0<l.length&&k&&(u=g.find(".reviewsExpander"),v=g.find(".seeMoreProductReviews"),e(),b())})});
/* ******** */
(function(l){var m=window.AmazonUIPageJS||window.P,n=m._namespace||m.attributeErrors,f=n?n("TwisterBooksDetailPageAsset",""):m;f.guardFatal?f.guardFatal(l)(f,window):f.execute(function(){l(f,window)})})(function(l,m,n){l.when("A","jQuery","atf").execute(function(f,a){f.on.ready(function(){function p(a,c){100>=c?g.count(a+"-count-0-100",c):1E3>=c?g.count(a+"-count-100-1000",c):1E3<c&&g.count(a+"-count-1000",c)}function n(b,c,d,f,e){a(b).slideToggle(300);a(c).slideToggle(300);a(d).toggleClass("tmmShowPrompt tmmHidePrompt");
a(f).toggleClass("tmmShowPrompt tmmHidePrompt");a(e).toggleClass("rotate")}function I(b){b.position();b.width();a(".swatchElement");b.find(".swatchElement").each(function(){a(this).attr("data-width",a(this).width());q+=a(this).width()});a("#formats").find(".a-row").removeClass("nonJSFormats")}function v(){var b=a("#formats.responsive");if(0!==b.length){var c=b.width()-40,d=0,f=0;b.find(".swatchElement").each(function(){a(this).is(":visible")?d+=a(this).width():f++});var e=a(b.find(".swatchElement").get().length),
t=b.find(".swatchElement .audibleTitle").length,h=0<e.length&&4<=e[0];(w||x)&&h&&t&&(h=J(d,c),d-=h,w?g.count("mediaMatrixUIOptimization",1):g.count("mediaMatrixUIOptimizationResizeAndSpillOver",1));d>c?a(b.find(".swatchElement:visible").get().reverse()).each(function(){var b=0,e=!1;a(this).find(".format").hasClass("a-button-selected")?(b=a(this).prev(".swatchElement").width(),e=a(this).prev(".swatchElement").is(":hidden"),a(this).prev(".swatchElement").hide()):(b=a(this).width(),e=a(this).is(":hidden"),
a(this).hide());f++;e||(d-=b);return d>c}):d<c&&b.find(".swatchElement").each(function(){if(a(this).is(":hidden")){var b=a(this).width();b<=c-d&&(a(this).show(),d+=b,f--)}});0==f&&K(d,c,e,q);(x||y)&&t&&(a("#tmmSwatches").css({display:"inline-block","white-space":"normal"}),y&&g.count("mediaMatrixtwisterSpillOver",1),a(b.find(".swatchElement").get().reverse()).each(function(){a(this).is(":hidden")&&a(this).show();a(this).addClass("marginTop")}));!z&&t&&(a.post("/hz/audible/wl",{audible_weblabs:"ADBL_TWISTER_RESIZE_116490"}),
z=1);A||(e=a("#audibleTwisterWeblabs"),null!=e&&e.length&&null!=e.data("weblabs")&&(e=e.data("weblabs"),b=b.find(".swatchElement:visible .audibleTitle").length,e.length&&b&&a.post("/hz/audible/wl",{audible_weblabs:e},function(a){A=!0})))}}function J(b,c){var d=a("#formats"),f=0;a(d.find(".swatchElement").get().reverse()).each(function(){var e=B(a(this)),d=a(this).width(),d=d>e?d-e:0;if(b>c&&0<d||a(this).is(":hidden"))C(a(this),e),f+=d,b-=d});return f}function K(b,c,d,f){var e=Math.round(0<d.length?
(c-b)/d[0]:0)-10,e=0<e?e:0;0<e&&a("#formats").find(".swatchElement").each(function(){var b=parseInt(a(this).attr("data-width")),d=B(a(this))+(0<e?e:0),b=f<c?b+1:Math.min(d,b);C(a(this),b)});return e}function B(a){var c=a.find("#kuBadge").length;a=a.find(".a-icon-kindle-unlimited").length;return 0<c||0<a?150:117}function C(a,c){a.addClass("resizedSwatchElement");a.css({width:c+"px"})}var D=0,E=0,A=!1,u,g=m.ue,q=0,z=0,w=a("#twisterResizeWeblab")?a("#twisterResizeWeblab").data("weblabs"):null,x=a("#twisterResizeAndSpillOver")?
a("#twisterResizeAndSpillOver").data("weblabs"):null,y=a("#twisterSpillOver")?a("#twisterSpillOver").data("weblabs"):null,F=function(a){"undefined"!=typeof a&&(u=new a.ImpressionLogger("dpbxapps","bxapps-atfMarker",!0,!0))};"undefined"!=typeof amznJQ?amznJQ.available("DPClientLogger",function(){F(m.DPClientLogger)}):l.when("DPClientLogger").execute(F);var h=f.state("mediamatrix-saf"),G=h&&h.hideEdition,r=h?h.editionCount:0;f.declarative("tmm-see-more-editions-click",["click"],function(b){var c=b.data,
d=c.metabindingUrl;if(b.$target.hasClass("a-link-expander")||b.$target.parent().hasClass("a-link-expander")){var c=c.metabindingPlaceHolder,g="#metabinding_row_top_"+c,e="#metabinding_row_bottom_"+c,h="#editionsSeePrompt_"+c,l="#editionsHidePrompt_"+c,p="#editionsIcon_"+c,r="isAjaxComplete_"+c,q="isAjaxInProgress_"+c;b="#tmmSpinnerDiv_"+c;var k=f.state("mediamatrix-state"),c=k["url_"+c].replace(/&amp;/g,"\x26");a("#formats .tmmErrorClass").hide();"1"===k[r]||"1"===k[q]?n(g,e,h,l,p):(f.ajax(c,{method:"get",
success:function(){k[r]="1";f.state("mediamatrix-state",k);n(g,e,h,l,p)},indicator:a(b),error:function(){a($tmmErrorDiv).show();k[q]="0";f.state("mediamatrix-state",k)}}),k[q]="1",f.state("mediamatrix-state",k))}else"#"!==d&&(m.location=d)});0<a("#formats \x3e .a-link-expander").length&&g&&g.count&&(G?(g.count("mediaMatrixExpanderPresent-saf",1),p("mediaMatrixExpanderPresent-saf",r)):(g.count("mediaMatrixExpanderPresent",1),p("mediaMatrixExpanderPresent",r)));a("#formats \x3e .a-link-expander").click(function(){n("#tmmSwatches",
"#twister","#showMoreFormatsPrompt","#hideMoreFormatsPrompt","#formatsIcon");E||(g&&g.count&&(G?(g.count("mediaMatrixExpanderClicked-saf",1),p("mediaMatrixExpanderClicked-saf",r)):(g.count("mediaMatrixExpanderClicked",1),p("mediaMatrixExpanderClicked",r))),E=1);u&&a("#twister").is(":visible")&&!D&&(u.logImpression("tmm-show-more-formats-viewed"),D=1)});a("#formats.responsive").each(function(){I(a(this))});var h=f.state("mediamatrixState"),H="false";"undefined"!==typeof h&&"undefined"!==typeof h.swatchWrap&&
(H=h.swatchWrap);"true"!=H&&(v(),f.on("resize",v));a("#formats .unselected .format").mouseenter(function(){a(this).find(".a-color-secondary").addClass("a-color-price").removeClass("a-color-secondary")}).mouseleave(function(){a(this).find(".a-color-price").addClass("a-color-secondary").removeClass("a-color-price")});a("#landingItemRentalLink").attr("href","javascript:document.getElementById('rentBuySection').click();")})})});
/* ******** */
(function(c){var b=window.AmazonUIPageJS||window.P,d=b._namespace||b.attributeErrors,a=d?d("DetailPageBookProductDescriptionAssets",""):b;a.guardFatal?a.guardFatal(c)(a,window):a.execute(function(){c(a,window)})})(function(c,b,d){});
/* ******** */
