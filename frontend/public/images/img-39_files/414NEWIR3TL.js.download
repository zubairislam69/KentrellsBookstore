(function(k){var f=window.AmazonUIPageJS||window.P,C=f._namespace||f.attributeErrors,a=C?C("DetailPageAlohaAssets",""):f;a.guardFatal?a.guardFatal(k)(a,window):a.execute(function(){k(a,window)})})(function(k,f,C){k.when("A").register("aloha-cartapi",function(a){return{createAddToCartRequest:function(f,k,r,y,c,z){z=z||5E3;c=c||y;var n={items:[]};return{count:function(){return n.items.length},call:function(){0<n.items.length&&a.$.ajax({url:f+"?ref_\x3ddp_atch_abb_atc",xhrFields:{withCredentials:!0},
type:"POST",headers:{"Content-Type":'application/vnd.com.amazon.api+json; type\x3d"cart.add-items.request/v1"',Accept:'application/vnd.com.amazon.api+json; type\x3d"cart.add-items/v1"',"Accept-Language":"en-US","x-api-csrf-token":k},data:JSON.stringify(n),timeout:z,success:r,error:y,abort:c})},addItem:function(a,b,c){n.items.push({asin:a,offerListingId:b,quantity:Number(c||1)})}}}}});"use strict";k.when("A","a-modal","a-checkbox","aloha-simplebundle-common","ready").execute(function(a,f,k,r){function y(){a.declarative("show-review-tab",
"click",function(h){a.$(h.$target).closest(c.AUI_PAGE_ROOT).find(".popoverReviewsTab").click()});a.declarative("add-to-cart","click",function(h){a.$(c.SB_ROOT+" "+c.SB_BUYBOX_ITEM_CHECKBOX+" "+c.INPUT_TYPE_CHECKBOX).filter(function(){return a.$(this).data("asin")===h.data.asin}).prop("checked",!0).change();a.$("[id^\x3dpopover-simpleBundle-]").each(function(){var b=f.get(a.$(this));b.isActive()&&b.hide()})});a.declarative("focus-image","mouseenter",function(a){var b=a.$target,f=b.parents(c.AUI_PAGE_ROOT);
a=a.data;f.find("#productImageMain-"+a.asin).attr("src",a.imageUrl);f.find(".thumbnail-group").removeClass("a-button-selected");f.find("#"+b.prop("name")).addClass("a-button-selected")})}var c={BUYBOX_ACCORDION:"#buyBoxAccordion",ADD_TO_CART_FORM:"#addToCart",ADD_TO_CART_ATTACH_BUTTON:"#add-to-cart-button.attach-dss-atc:button",INSTALLMENTS_ATTACH_BUTTON:"#installments-button.attach-dss-atc:button",OFFER_LISTING_ID:"#offerListingID",AUI_MODAL_SCROLLER:".a-modal-scroller",AUI_PAGE_ROOT:"#a-page",INPUT_TYPE_CHECKBOX:"input[type\x3d'checkbox']",
BASE_PRODUCT_PRICE:"#base-product-price",BASE_PRODUCT_PRICE_DATA:"base-product-price",SB_ROOT:".showBundleAsins.simpleBundleFeatureContainer",SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX:".simple-bundle-item-expand-header-",SB_EXPANDED_MODAL_EXPANDER_CONTENT_PREFIX:".simple-bundle-item-expander-content-",SB_EXPANDED_MODAL_LINK:".simple-bundle-buybox-expanded-modal-link",SB_EXPANDED_MODAL_ITEM_LINK_PREFIX:".simple-bundle-item-link-",SB_ACCESSORY_ITEM_LINK_PREFIX:".popover-simpleBundle-link-",SB_BUYBOX_ITEM_CHECKBOX:".simple-bundle-buybox-item-checkbox",
SB_BUYBOX_CHECKBOX_PREFIX:".simple-bundle-item-",SB_EXPANDED_CHECKBOX_PREFIX:".simple-bundle-modal-item-",SB_EXPANDER_TITLE:".aloha-simple-bundle-expand-header-title"},z=!1,n=a.debounce(function(){var h=a.$(c.SB_ROOT);if(h.length){var b=a.$(c.ADD_TO_CART_FORM),f=b.find(":submit").length&&b.find(c.OFFER_LISTING_ID).val(),n=a.$(c.ADD_TO_CART_ATTACH_BUTTON),q=n.length,k=a.$(c.INSTALLMENTS_ATTACH_BUTTON),t=k.length;if(f||q){y();var u=r.getSimpleBundlePageState()||{},x=u.expandedBuyboxEnabled,p=u.selectionMode||
"SINGLE",l=u.items||[],G=u.csrfToken,w=u.cartEndpoint,g=[],e=h.find(c.SB_EXPANDED_MODAL_LINK),m,d={baseAsin:u.baseAsin,marketplaceId:u.marketPlaceId,baseItemPrice:a.$(c.BASE_PRODUCT_PRICE).data(c.BASE_PRODUCT_PRICE_DATA),clientType:"aloha-simplebundle-desktop",currencyOfPreferenceSupported:u.currencyOfPreferenceSupported||!1},v=r.createMetricsLogger(d);z||(z=!0,a.defer(function(){v.logNexusImpression(l)}));e.click(function(a){a.originalEvent&&v.logExpandedLink()});l.forEach(function(b,d){function t(){var g=
!1;l.click(function(){g=!g});h.find(c.SB_EXPANDED_MODAL_ITEM_LINK_PREFIX+d).click(function(){g||l.click();e.click();m=m||a.$(c.AUI_MODAL_SCROLLER);m.scrollTop(l.offset().top-m.offset().top+m.scrollTop())})}function f(){var g=h.find(c.SB_EXPANDED_MODAL_EXPANDER_CONTENT_PREFIX+d),e="/gp/product/features/aloha-ppd/udp-ajax-handler/minidp.html?asin\x3d"+b.asin+"\x26marketplaceId\x3d"+u.marketPlaceId+"\x26offerId\x3d"+b.offerListingId+"\x26activeTab\x3d0",m="a:expander:simple-bundle-item-expander-"+d+
":toggle",t=a.once(function(){g.load(e,null,function(e,d,m){a.$.trim(g.html())?(g.find(".a-span-last \x3e .a-spacing-top-base").remove(),g.find(".popover-add-to-cart-button").remove(),e=g.find("#a-page \x3e div \x3e div.a-row"),d=g.find(".popover-in-stock"),d.remove(),d.addClass("aloha-simple-bundle-modal-detailed-info-header-row-text"),e.append(d),d=g.find(".popover-ship-sold-by"),d.remove(),d.addClass("aloha-simple-bundle-modal-detailed-info-header-row-text"),e.append(d),d=g.find(".popover-retail-domain"),
d.remove(),e.append(d),e=g.find("#a-page \x3e div \x3e div.a-column.a-span9"),e.removeClass("a-span9"),e.addClass("a-span12")):g.text(u.ajaxFailMsg)})}),p=m+":expand";a.off(p);a.on(p,function(e){v.logItemLink(d);l.find(c.SB_EXPANDER_TITLE).removeClass("aloha-simple-bundle-expand-header-title-truncate");a.$.trim(g.html())||t()});m+=":collapse";a.off(m);a.on(m,function(g){l.find(c.SB_EXPANDER_TITLE).addClass("aloha-simple-bundle-expand-header-title-truncate")})}var l=h.find(c.SB_EXPANDED_MODAL_EXPANDER_HEADER_PREFIX+
d);if(x)t(),f();else{var w=h.find(c.SB_ACCESSORY_ITEM_LINK_PREFIX+d);w.unbind("click.MiniDpClickHandler");w.bind("click.MiniDpClickHandler",function(){v.logItemLink(d);v.logNexusOpenMiniDP(d,b)})}r.setupCheckboxes(g,d,x,b.asin,u.maxBuyboxItemsDesktop,c.SB_BUYBOX_CHECKBOX_PREFIX+d+" "+c.INPUT_TYPE_CHECKBOX,c.SB_EXPANDED_CHECKBOX_PREFIX+d+" "+c.INPUT_TYPE_CHECKBOX,c.SB_BUYBOX_CHECKBOX_PREFIX+d,c.SB_EXPANDED_CHECKBOX_PREFIX+d,p)});d=a.$(c.BUYBOX_ACCORDION);d.length?d.children().each(function(){b=a.$(this).find(c.ADD_TO_CART_FORM);
var d=b.find(c.ADD_TO_CART_ATTACH_BUTTON),e=b.find(c.INSTALLMENTS_ATTACH_BUTTON),m=d.length,t=e.length,h=b.find(c.SB_ROOT).length,p=b.find(":submit").length&&b.find(c.OFFER_LISTING_ID).val();h&&p&&r.setupAddToCart(b,g,l,v,w,G,x);m&&r.setupAddToCartForButton(d,g,l,v,x,b);t&&r.setupAddToCartForButton(e,g,l,v,x,b)}):(f&&r.setupAddToCart(b,g,l,v,w,G,x),q&&r.setupAddToCartForButton(n,g,l,v,x,b),t&&r.setupAddToCartForButton(k,g,l,v,x,b))}else h.hide()}},200);n();a.on("a:pageUpdate",n);a.on("attach:dss:initialized",
function(){a.off("a:pageUpdate",n);n()})});"use strict";k.when("A","a-checkbox","aloha-cartapi","aloha-buy-now-integration","aloha-buybox-form-util").register("aloha-simplebundle-common",function(a,B,D,r,y){function c(b,h){var c=a.$(b);c.change(function(){c.prop("checked",this.checked)});var p=a.$(h);p.length||(p=c);return{$element:c,$container:p,api:B(b),show:function(){p.hasClass(q.AUI_HIDDEN)&&p.removeClass(q.AUI_HIDDEN);p.show()},hide:function(){p.hasClass(q.AUI_HIDDEN)||p.addClass(q.AUI_HIDDEN)},
isVisible:function(){return!p.hasClass(q.AUI_HIDDEN)}}}function z(a,b,h){b.forEach(function(b){a.addItem(b.asin,b.offerListingId,b.quantity);h.logCheckboxSelected(b.index,b.quantity)})}function n(a,b,h){var c=[],l=[];b.forEach(function(b,f){var g=a[f];b.api.isChecked()?c.push({asin:g.asin,offerListingId:g.offerListingId,ourPrice:g.ourPrice,ourPriceAmount:g.ourPriceAmount,ourPriceSymbol:g.ourPriceSymbol,ourPriceCode:g.ourPriceCode,index:f,quantity:h}):l.push({asin:g.asin,ourPrice:g.ourPrice,ourPriceAmount:g.ourPriceAmount,
ourPriceSymbol:g.ourPriceSymbol,ourPriceCode:g.ourPriceCode,index:f,isVisible:b.isVisible()})});return{selectedLineItems:c,unselectedItems:l}}var h=/[^\d,\.]/g,b=/,/g,E=/\./g,H=/(^\D+|\D+$)/,q={AUI_HIDDEN:"aok-hidden"},F=!1;return{createMetricsLogger:function(c){function u(a,e){f.ue&&f.ue.count&&f.ue.count("aloha-simplebundle-"+a,e)}function x(){var a;a=c.currencyOfPreferenceSupported?{priceFormatted:c.baseItemPrice,priceDecimal:null,currencySymbol:null}:n(c.baseItemPrice);return{baseAsin:c.baseAsin,
baseItemPrice:a.priceFormatted,baseItemCurrencySymbol:a.currencySymbol,baseItemPriceDecimal:a.priceDecimal,clientType:c.clientType,feature:"abb"}}function p(a,e){f.ue&&f.ue.event&&(a.requestId=w,a.producerId="atch",a.obfuscatedMarketplaceId=c.marketplaceId,f.ue.event(a,"atch",e,{ssd:!0}))}function l(a){return c.currencyOfPreferenceSupported?{priceFormatted:a.ourPrice,priceDecimal:parseFloat(a.ourPriceAmount)||null,currencySymbol:a.ourPriceSymbol}:n(a.ourPrice)}function n(a){a=a||"";var e=a.lastIndexOf(","),
m=a.lastIndexOf("."),d;e>m?(m=E,d=b):(m=b,d=E);(e=a.match(H))&&(e=e[0].trim());m=a.replace(h,"").replace(m,"").replace(d,".");m=parseFloat(m);return{priceFormatted:a,currencySymbol:e,priceDecimal:m}}var w=Date.now().toString(10)+Math.random().toString(16).substring(2,13);a.defer(function(){u("view",1)});return{logAddToCart:function(a){u("addtocart",a)},logExpandedLink:function(){u("buybox-expanded-link",1)},logCheckboxSelected:function(a,e){u("checkbox-"+(a+1),e)},logItemLink:function(a){u("link-"+
(a+1),1)},logNexusImpression:function(a){var e=x();e.accessories=a.map(function(a,d){var e=l(a);return{asin:a.asin,displayPosition:d+1,price:e.priceFormatted,currencySymbol:e.currencySymbol,priceDecimal:e.priceDecimal}});p(e,"attach.ABBImpression.5")},logNexusAddBaseToCart:function(a,e,b){var d=x();d.baseQuantity=Number(b);d.accessoriesAdded=a.map(function(a){var e=l(a);return{asin:a.asin,displayPosition:a.index+1,quantity:Number(a.quantity),price:e.priceFormatted,currencySymbol:e.currencySymbol,
priceDecimal:e.priceDecimal}});d.accessoriesNotAdded=e.map(function(a){var e=l(a);return{asin:a.asin,displayPosition:a.index+1,price:e.priceFormatted,currencySymbol:e.currencySymbol,priceDecimal:e.priceDecimal}});p(d,"attach.ABBAddBaseToCart.9")},logNexusOpenMiniDP:function(a,e){var b=l(e),d=x();d.accessoryAsin=e.asin;d.accessoryDisplayPosition=Number(a)+1;d.accessoryPrice=b.priceFormatted;d.accessoryItemCurrencySymbol=b.currencySymbol;d.accessoryItemPriceDecimal=b.priceDecimal;p(d,"attach.ABBShowMiniDP.4")}}},
getSimpleBundlePageState:function(){var b=a.$(".simpleBundleJavascriptParameters").find("script").html();return a.parseJSON(b)},getCheckboxCollectionObject:c,setupAccessoryAddToCart:function(b,c,h,p){function l(e,b,d){var c=D.createAddToCartRequest(h,p,function(c){a.$("#abb_accessory_add_button_"+e).addClass("aok-hidden");a.$("#abb_add_accessory_alert_"+e).removeClass("aok-hidden");a.$("#minidp_accessory_add_button_"+e).addClass("aok-hidden");a.$("#minidp_add_accessory_alert_"+e).removeClass("aok-hidden");
w.push({asin:b.asin,offerListingId:b.offerListingId,ourPrice:b.ourPrice,ourPriceAmount:b.ourPriceAmount,ourPriceSymbol:b.ourPriceSymbol,ourPriceCode:b.ourPriceCode,index:d,quantity:1});k.when("EWC").execute("abb-everywhere-cart",function(a){a.refresh()});var h=c.entity.count.entity.items;k.when("nav.setCartCount").execute("abb-nav-cart",function(a){a(h)})},function(){a.$("#abb_accessory_add_button_"+e).addClass("aok-hidden");a.$("#abb_add_accessory_error_"+e).removeClass("aok-hidden");a.$("#minidp_accessory_add_button_"+
e).addClass("aok-hidden");a.$("#minidp_add_accessory_error_"+e).removeClass("aok-hidden");f.ueLogError&&f.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},{logLevel:"ERROR",attribution:"SimpleBundle"})});c.addItem(e,b.offerListingId);c.call()}var n=[],w=[],g=[];F||(F=!0,a.$(".simpleBundleSection").each(function(b,c){a.$(c).closest("#simpleBundleV2_feature_div").length||a.$(c).closest("#simpleBundle_feature_div").length||c.remove()}),b.forEach(function(b,
c){n.push({asin:b.asin,offerListingId:b.offerListingId,ourPrice:b.ourPrice,ourPriceAmount:b.ourPriceAmount,ourPriceSymbol:b.ourPriceSymbol,ourPriceCode:b.ourPriceCode,index:c,quantity:1});b="#abb_accessory_add_button_"+b.asin;c=a.$(b);15<a.$(b+" .a-button-text").text().length&&c.removeClass("a-button-span8").addClass("a-button-span11")}),a.declarative("abb-accessory-add","click",function(a){a=a.data.asin;for(var c,d=0;d<b.length;d++)if(b[d].asin===a){c=d;break}l(a,b[c],c)}),f.addEventListener("beforeunload",
function(){n.forEach(function(a){w.some(function(b){return b.asin===a.asin})||g.push(a)});c.logNexusAddBaseToCart(w,g,1)}))},setupAddToCart:function(b,c,h,p,l,k,w){function g(b,g){if(e){var A=a.$(b.currentTarget);if(r.isBuyNow(A)){var t=w?1:m.find("*[name\x3d'quantity']").val()||1,q=n(h,c,t);r.checkoutWith(q.selectedLineItems,A)}else return}var B=D.createAddToCartRequest(l,k,function(){g()},function(){f.ueLogError&&f.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},
{logLevel:"ERROR",attribution:"SimpleBundle"});g()}),t=w?1:m.find("*[name\x3d'quantity']").val()||1,q=n(h,c,t);z(B,q.selectedLineItems,p);A=q.unselectedItems.filter(function(a){return a.isVisible});p.logNexusAddBaseToCart(q.selectedLineItems,A,t);t=B.count();0!==t&&(A=a.$(b.currentTarget),r.isBuyNow(A)?r.checkoutWith(q.selectedLineItems,A):(e=!0,b.preventDefault(),p.logAddToCart(t),B.call()))}var e=!1,m=b;b.unbind("submit.SimpleBundleSubmitHandler");b.bind("submit.SimpleBundleSubmitHandler",function(b){var c=
a.$(this);g(b,function(){c.submit()})});b.find(":submit").unbind("click.SBB");b.find(":submit").bind("click.SBB",function(b){var c=a.$(this),e=c.closest(".a-accordion-row-container");e.length&&(m=e,g(b,function(){c.click()}))})},setupAddToCartForDeclarative:function(a,b,c,h,l,q,w,g){a.unbind("click.SimpleBundleClickHandler");a.bind("click.SimpleBundleClickHandler",function(a){a=D.createAddToCartRequest(l,q,function(){k.now("attach-external-atc-interceptor").execute(function(a){a&&d.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})})},
function(){f.ueLogError&&f.ueLogError({message:"[There was an error while adding items to the cart using the universal add to cart api.]"},{logLevel:"ERROR",attribution:"SimpleBundle"})});var m=w?1:g.find("*[name\x3d'quantity']").val()||1,d=n(c,b,m);z(a,d.selectedLineItems,h);var t=d.unselectedItems.filter(function(a){return a.isVisible});h.logNexusAddBaseToCart(d.selectedLineItems,t,m);if(m=a.count())h.logAddToCart(m),a.call()})},setupCheckboxes:function(a,b,h,f,l,q,n,g,e,m){var d=c(q,g);a.push(d);
d.api.enable();d.$element.data("asin",f);if(h){var v=c(n,e);v.api.enable();v.api.check(d.api.isChecked());v.$element.change(function(){var a=v.api.isChecked();d.api.check(a)});d.$element.change(function(){var b=d.api.isChecked();v.api.check(b);var c=0;a.forEach(function(a){c<l&&a.api.isChecked()?(c++,a.show()):a.hide()});c<l&&a.forEach(function(a){c<l&&a.api.isUnchecked()&&(c++,a.show())})})}else"SINGLE"===m&&d.$element.change(function(){d.api.isChecked()&&a.forEach(function(a,c){b!==c&&a.api.uncheck()})});
0<a.length&&a[0].$element.change()},setupAddToCartForButton:function(b,c,h,f,l,q){function r(){var a=l?1:g.find("*[name\x3d'quantity']").val()||1,b=n(h,c,a);y.addItems(q,b.selectedLineItems,f);var d=b.unselectedItems.filter(function(a){return a.isVisible});k.now("attach-external-atc-interceptor").execute(function(a){a&&b.selectedLineItems.forEach(function(b){a.updateAttachModule(b.asin)})});f.logNexusAddBaseToCart(b.selectedLineItems,d,a);f.logAddToCart(b.selectedLineItems.length)}var g=q;b.unbind("click.button.SBB");
b.bind("click.button.SBB",function(){var b=a.$(this).closest(".a-accordion-row-container");b.length&&(g=b);r()})}}});"use strict";k.when("ready").register("aloha-buy-now-integration",function(){var a={};k.when("turbo-checkout-buy-now-integration").execute(function(f){a=f});return{isBuyNow:function(f){return"function"===typeof a.isBuyNow&&a.isBuyNow(f)},checkoutWith:function(f,k){return a.checkoutWith(f,k)}}});"use strict";k.when("A").register("aloha-buybox-form-util",function(a){function f(a,b,c){var n=
"items["+a+".abb]";b.forEach(function(a){n+="["+a+"]"});a=document.createElement("input");a.type="hidden";a.name=n;a.value=c;a.classList.add("aloha-accessory-form-input");return a}function k(a,b){var c=a.elements.namedItem(b.name);c&&a.removeChild(c);a.appendChild(b)}function r(a,b){k(a,f(b.index,["asin"],b.asin));k(a,f(b.index,["offerListingId"],b.offerListingId));k(a,f(b.index,["quantity"],b.quantity))}function y(a){for(var b=2;0<a.find('input[name\x3d"asin.'+b+'"]').length||0<a.find('input[name\x3d"offeringID.'+
b+'"]').length;)b++;return b}function c(a,b){for(;0<a.find('input[name\x3d"asin.'+b+'"]').length||0<a.find('input[name\x3d"offeringID.'+b+'"]').length;)b++;return b}function z(c,b){return[a.$("\x3cinput /\x3e",{type:"hidden",name:"asin."+b,value:c.asin,class:"aloha-accessory-form-input"}),a.$("\x3cinput /\x3e",{type:"hidden",name:"offeringID."+b,value:c.offerListingId,class:"aloha-accessory-form-input"}),a.$("\x3cinput /\x3e",{type:"hidden",name:"quantity."+b,value:c.quantity||1,class:"aloha-accessory-form-input"})]}
var n=[];a.on("aloha:detailPage:reappear",function(){n=[];a.$(".aloha-accessory-form-input").remove()});return{addItems:function(a,b,f){var k=y(a);b.forEach(function(b){if(b!==C&&b.asin&&b.offerListingId){k=c(a,k);var y=z(b,k);y.forEach(function(b){a.append(b)});r(a.get(0),b);n.push(y);k++;f&&f.logCheckboxSelected(b.index,b.quantity)}});b=a.find('input[name\x3d"itemCount"]');0===b.length?a.append('\x3cinput type\x3d"hidden" name\x3d"itemCount" value\x3d"'+k+'"\x3e'):b[0].value=Math.max(b[0].value,
k)}}})});